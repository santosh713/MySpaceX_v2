<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <%- include('partials/head', { title: 'Pay Calculator â€“ MySpaceX' }) %>
  <body class="bg-gray-50 dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 min-h-screen flex flex-col antialiased">
    <%- include('partials/navbar') %>

    <main class="flex-1 w-full max-w-5xl mx-auto px-4 sm:px-6 py-8">
      <header class="mb-6">
        <h1 class="text-3xl font-extrabold">Pay Calculator</h1>
        <p class="text-gray-600 dark:text-neutral-300 mt-1">
          Bi-weekly periods anchored to your saved payday. Totals come from HoursTracker.
        </p>
      </header>

      <!-- Pay period selector -->
      <section class="bg-white dark:bg-neutral-900 rounded-2xl shadow p-4 sm:p-6 mb-6 border border-neutral-200 dark:border-neutral-800">
        <div class="flex flex-col sm:flex-row sm:items-center gap-4">
          <div class="flex-1">
            <label for="periodSelect" class="block text-sm text-gray-600 dark:text-neutral-400 mb-1">Select Pay Period</label>
            <select id="periodSelect" class="w-full rounded-lg border-gray-300 dark:border-neutral-700 px-3 py-2 dark:bg-neutral-900 focus:ring-indigo-500 focus:border-indigo-500"></select>
          </div>
          <div class="text-sm text-gray-500 dark:text-neutral-400">Default = current running period</div>
        </div>
      </section>

      <!-- Summary + Chart -->
      <section class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Summary -->
        <div class="bg-white dark:bg-neutral-900 rounded-2xl shadow p-4 sm:p-6 border border-neutral-200 dark:border-neutral-800">
          <h2 class="text-xl font-semibold mb-2">Summary for <span id="periodLabel" class="font-bold"></span></h2>
          <div class="space-y-1">
            <p><span class="text-gray-500">Total Hours:</span> <span id="totalHours">0.00</span></p>
            <p><span class="text-gray-500">Gross Pay:</span> $<span id="grossPay">0.00</span></p>
            <hr class="my-2">
            <p><span class="text-gray-500">Federal Tax:</span> $<span id="fedAmount">0.00</span></p>
            <p><span class="text-gray-500">CPP:</span> $<span id="cppAmount">0.00</span></p>
            <p><span class="text-gray-500">EI:</span> $<span id="eiAmount">0.00</span></p>
            <p><span class="text-gray-500">Total Deductions:</span> $<span id="deductions">0.00</span></p>
            <p class="text-green-700 dark:text-green-400 font-semibold text-lg">Take home: $<span id="netPay">0.00</span></p>
          </div>
        </div>

        <!-- Doughnut chart -->
        <div class="bg-white dark:bg-neutral-900 rounded-2xl shadow p-4 sm:p-6 flex items-center justify-center border border-neutral-200 dark:border-neutral-800">
          <div class="w-full h-64 sm:h-80">
            <canvas id="payChart"></canvas>
          </div>
        </div>
      </section>
    </main>

    <%- include('partials/footer') %>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/paycalculator.js"></script>
    <script src="/js/main.js"></script>
  </body>
</html>
